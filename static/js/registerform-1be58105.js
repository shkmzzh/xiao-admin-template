import{d as x,r as c,o as V,L as v,e as E,f as y,a2 as a,w as l,h as e,ar as F,ap as P,aq as w,a0 as N,m,as as $,aa as B,ab as R}from"./index-434b207a.js";import{E as A,a as C,b as I}from"./el-input-7d37c056.js";import{E as U}from"./el-button-3711da27.js";import{_ as q}from"./_plugin-vue_export-helper-c27b6911.js";const Z=d=>(B("data-v-7c48a0cb"),d=d(),R(),d),z={class:"register-form"},L=Z(()=>m("span",{class:"text"},"已经有账号? ",-1)),S=x({__name:"registerform",emits:["changeForm"],setup(d,{emit:f}){const r=c({appkey:"U2FsdGVkX19WSQ59Cg+Fj9jNZPxRC5y0xB1iV06BeNA=",nickName:"",phone:"",password:"",checkPass:""}),k=c({nickName:[{required:!0,message:"请输入用户名",trigger:"blur"}],phone:[{required:!0,message:"请输入手机号",trigger:"blur"},{pattern:/^((\(\d{2,3}\))|(\d{3}\-))?1[3|5|8]\d{9}$/,message:"手机号格式错误",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{pattern:/^(?![0-9]+$)(?![a-z]+$)(?![A-Z]+$)(?!([^(0-9a-zA-Z)]|[()])+$)(?!^.*[\u4E00-\u9FA5].*$)([^(0-9a-zA-Z)]|[()]|[a-z]|[A-Z]|[0-9]){8,18}$/,message:"密码格式应为8-18位数字、字母、符号的任意两种组合",trigger:"blur"}],checkPass:[{required:!0,message:"请再次输入密码",trigger:"blur"},{validator:(n,o,s)=>{o!==r.value.password?s(new Error("两次输入的密码不一致")):s()}}]}),u=c(),_=async n=>{n&&await n.validate(async(o,s)=>{if(console.log(u.value),o){const{checkPass:p,...i}=r.value;await $(i),f("changeForm",!0)}else console.log("error submit!",s)})};function b(){f("changeForm",!0)}function g({code:n}){n==="Enter"&&_(u.value)}return V(()=>{window.document.addEventListener("keypress",g)}),v(()=>{window.document.removeEventListener("keypress",g)}),(n,o)=>{const s=A,p=C,i=U,h=I;return E(),y("div",z,[a(h,{ref_key:"ruleFormRef",ref:u,model:e(r),rules:e(k)},{default:l(()=>[a(p,{prop:"nickName"},{default:l(()=>[a(s,{"prefix-icon":e(F),placeholder:"用户名",clearable:"",modelValue:e(r).nickName,"onUpdate:modelValue":o[0]||(o[0]=t=>e(r).nickName=t)},null,8,["prefix-icon","modelValue"])]),_:1}),a(p,{prop:"phone"},{default:l(()=>[a(s,{"prefix-icon":e(P),placeholder:"手机号",clearable:"",modelValue:e(r).phone,"onUpdate:modelValue":o[1]||(o[1]=t=>e(r).phone=t)},null,8,["prefix-icon","modelValue"])]),_:1}),a(p,{prop:"password"},{default:l(()=>[a(s,{"prefix-icon":e(w),placeholder:"密码",clearable:"",type:"password","show-password":"",modelValue:e(r).password,"onUpdate:modelValue":o[2]||(o[2]=t=>e(r).password=t)},null,8,["prefix-icon","modelValue"])]),_:1}),a(p,{prop:"checkPass"},{default:l(()=>[a(s,{"prefix-icon":e(w),placeholder:"确认密码",clearable:"",type:"password","show-password":"",modelValue:e(r).checkPass,"onUpdate:modelValue":o[3]||(o[3]=t=>e(r).checkPass=t)},null,8,["prefix-icon","modelValue"])]),_:1}),a(p,null,{default:l(()=>[a(i,{type:"primary",onClick:o[4]||(o[4]=t=>_(e(u)))},{default:l(()=>[N("注册")]),_:1})]),_:1})]),_:1},8,["model","rules"]),m("div",{class:"sub-link"},[L,m("span",{class:"to-login",onClick:b},"去登录")])])}}});const M=q(S,[["__scopeId","data-v-7c48a0cb"]]);export{M as default};
